<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
  <title>Keen IO | Visualization JS</title>
	
	<script type="text/javascript" src='https://www.google.com/jsapi?autoload={"modules":[{"name":"visualization","version":"1","packages":["corechart","table"]}]}'></script>
	
	<!--<script type="text/javascript" src="../../src/plugins/visualization/lib/underscore.js"></script>-->
	<script type="text/javascript" src="../../src/plugins/visualization/lib/d3.v3.min.js"></script>
	<script type="text/javascript" src="../../src/plugins/visualization/lib/nv.d3.min.js"></script>
	
  <script type="text/javascript" src="../../dist/keen-3.0.0.visualize.js"></script>
	<script type="text/javascript" src="../../src/plugins/visualization/keen-nvd3.js"></script>
	<script type="text/javascript" src="../../src/plugins/visualization/keen-googlecharts.js"></script>

  <script type="text/javascript">

		var keen = new Keen({
			projectId: "",
			readKey: "",
			protocol: "https",
			//host: 'analytics.yourdomain.com',
			requestType: "xhr" // "jsonp" "beacon" 
		});
		
		
		// Pie Chart
		// ---------------------------
		/*
		var count = new Keen.Count('play', {
			targetProperty: 'remainingTime',
			groupBy: 'remainingTime'
		});
		
		var pie = keen.query(count, function(response){
			
			this.draw("#first", {
				library: 'google', 
				type: 'pie',
				
				title: 'Counting Plays by Time Remaining',
				labels: {
					"null": "None",
					"file://localhost/Users/Larimer/dev/keen/sandbox/video.js%20plugin/index.html": "sandbox"
				},
				height: 400,
				
				is3D: false,
				pieHole: .35,
				colors: ['#e0440e', '#e6693e', '#ec8f6e', '#f3b49f', '#f6c7b6'],
				legend: 'none',
				pieSliceText: 'label',
				slices: {
					2: {offset: 0.5}
				}
			});
			
		});*/
		
		
		// Interval Chart
		// ---------------------------
		var count_daily = new Keen.Count('pageView', {
			targetProperty: "page",
			groupBy: "page",
			timeframe: 'this_10_weeks',
			interval: "weekly"
		});
		var interval = keen.query(count_daily, function(){
			this.draw('#second', {
				library: 'google',
				type: 'bar',
				isStacked: true,
				title: 'Simple data',
				labels: {
					"": "Direct",
					"null": "None",
					"file://localhost/Users/Larimer/Downloads/gist3a84fb3288737047e173-05ee2560c1be278096416081960b98ff0104ea4d/index.html": "downloads",
					"file://localhost/Users/Larimer/dev/keen/sandbox/video.js%20plugin/index.html": "sandbox"
				},
				height: 'auto',
				height: 600,
				hAxis: {
					gridlines: { color: '#f7f7f7', count: 2 }
				},
				vAxis: {
					gridlines: { color: '#d7d7d7' }
				}
				
			}); 
		});
		
		
		/*
		var chart = new Keen.Visualization(interval, '#second', { 
			library: 'google',
			type: 'bar',
			title: 'Counting Page Views is Fun!'
		});*/
		
		
	</script>

</head>
<body>
	<div id="first" style="float: left; width: 40%;"></div>
	<div id="second" style="float: right; width: 60%;"></div>
</body>
</html>


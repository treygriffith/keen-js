<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
  <title>Keen IO | Visualization JS</title>
	
	<script type="text/javascript" src="../../src/plugins/visualization/nvd3-deps/d3.v3.min.js"></script>
	<script type="text/javascript" src="../../src/plugins/visualization/nvd3-deps/nv.d3.min.js"></script>
	
  <script type="text/javascript" src="../../dist/keen-3.0.0.visualize.js"></script>
	<script type="text/javascript" src="../../src/plugins/visualization/keen-nvd3.js"></script>

  <script type="text/javascript">

		var keen = new Keen({
			projectId: "52f2ae5905cd661a7800000a",
			readKey: "4e4d72e5bf8b69686ed87a5a9671bba7ad829fbd10a1c281ee51b6e9c1ce9548e941e1f336f9de9281a5acc66ca8fdabc9b3c806e390eca01665f6a308a9b03d8b332b3fbd9f3cdfc3b3e16b0da6d84851e53fe20fbbce300801b8a401a6395b9f4ab9c89bff566e9678a74ca6624f9b",
			protocol: "https",
			//host: 'analytics.yourdomain.com',
			requestType: "xhr" // "jsonp" "beacon" 
		});
		
		/*
				ANALYSIS TYPES
		*/
		
		var count = new Keen.Count('purchase');
		
		var widget = keen.query(count, function(response, meta){
			console.log('callback', response);
			this.draw("#first", { library: 'nvd3', type: 'line' });
		});
		
		widget.on("complete", function(response){
			// this.draw("#div", { library: 'nvd3', type: 'line' });
			// if (this.visual) this.visual.trigger("update");
		});
		
		var chart = new Keen.Visualization(widget, '#second', { library: 'nvd3', type: 'line' });
		
	</script>

</head>
<body>
	<div id="first"></div>
	<div id="second"></div>
</body>
</html>

